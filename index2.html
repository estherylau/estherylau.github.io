<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>This is an iframe testing page</title>
		<script type="text/javascript">
			function sendMessageToParent() {
				console.log("trigger 2 from an outside source!");
				window.parent.postMessage({
				    'message': {
				    	'submit': {
				    		'part': 12,
					    	'complete': true,
					    	'state': {'event': 'Play button clicked. Step 2 started.', 'isTrusted': true, 'computerTime': '2022-03-28T18:13:58.623Z'}
				    	},
				    	'resize': {
				    		'height': '800',
				    		'width': '400',
				    	},
				    	'doneLoading': true,
					'url': 'https://estherylau.github.io/index2.html',
				    },
				}, "*"); // Should specify targin origin instead of using *
			}

			setTimeout(() => {
				sendMessageToParent();
			}, 10000);
		</script>
	</head>
	<body>
		<p>I am a webpage #2.</p>
	</body>
</html>
